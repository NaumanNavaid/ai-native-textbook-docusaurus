"use strict";(globalThis.webpackChunkai_native_textbook_docusaurus=globalThis.webpackChunkai_native_textbook_docusaurus||[]).push([[68],{1583:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"part-3-simulation/chapter-7-gazebo-physics-simulation","title":"Gazebo Physics Simulation","description":"Introduction","source":"@site/docs/part-3-simulation/chapter-7-gazebo-physics-simulation.mdx","sourceDirName":"part-3-simulation","slug":"/part-3-simulation/chapter-7-gazebo-physics-simulation","permalink":"/ai-native-textbook-docusaurus/docs/part-3-simulation/chapter-7-gazebo-physics-simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/NaumanNavaid/ai-native-textbook-docusaurus/tree/main/docs/part-3-simulation/chapter-7-gazebo-physics-simulation.mdx","tags":[],"version":"current","frontMatter":{"title":"Gazebo Physics Simulation","part":3,"chapter":7,"difficulty":"intermediate","estimatedTime":55,"prerequisites":["chapter-6-urdf-robot-description-tf-trees"],"objectives":["Master Gazebo simulation environment and physics engines","Learn robot modeling and sensor simulation in Gazebo","Understand physics engine selection and configuration","Create custom plugins and advanced simulation features"]},"sidebar":"chaptersSidebar","previous":{"title":"URDF, Robot Description, TF Trees","permalink":"/ai-native-textbook-docusaurus/docs/part-2-ros/chapter-6-urdf-robot-description-tf-trees"},"next":{"title":"Unity for Robotics Visualization","permalink":"/ai-native-textbook-docusaurus/docs/part-3-simulation/chapter-8-unity-robotics-visualization"}}');var a=s(4848),i=s(8453);const t={title:"Gazebo Physics Simulation",part:3,chapter:7,difficulty:"intermediate",estimatedTime:55,prerequisites:["chapter-6-urdf-robot-description-tf-trees"],objectives:["Master Gazebo simulation environment and physics engines","Learn robot modeling and sensor simulation in Gazebo","Understand physics engine selection and configuration","Create custom plugins and advanced simulation features"]},l="Chapter 7: Gazebo Physics Simulation",o={},m=[{value:"Introduction",id:"introduction",level:2},{value:"7.1 Gazebo Architecture Overview",id:"71-gazebo-architecture-overview",level:2},{value:"7.1.1 System Architecture",id:"711-system-architecture",level:3},{value:"7.1.2 Physics Engine Options",id:"712-physics-engine-options",level:3},{value:"7.2 Physics Engine Fundamentals",id:"72-physics-engine-fundamentals",level:2},{value:"7.2.1 Rigid Body Dynamics",id:"721-rigid-body-dynamics",level:3},{value:"7.2.2 Collision Detection and Response",id:"722-collision-detection-and-response",level:3},{value:"7.2.3 Contact and Friction Models",id:"723-contact-and-friction-models",level:3},{value:"7.3 Robot Modeling in Gazebo",id:"73-robot-modeling-in-gazebo",level:2},{value:"7.3.1 URDF to SDF Conversion",id:"731-urdf-to-sdf-conversion",level:3},{value:"7.3.2 Complete Robot Model Example",id:"732-complete-robot-model-example",level:3},{value:"7.4 Sensor Simulation",id:"74-sensor-simulation",level:2},{value:"7.4.1 Camera Sensor Modeling",id:"741-camera-sensor-modeling",level:3},{value:"7.4.2 LiDAR Sensor Simulation",id:"742-lidar-sensor-simulation",level:3},{value:"7.5 Advanced Gazebo Features",id:"75-advanced-gazebo-features",level:2},{value:"7.5.1 Plugin Development",id:"751-plugin-development",level:3},{value:"7.5.2 Custom Materials",id:"752-custom-materials",level:3},{value:"7.6 Performance Optimization",id:"76-performance-optimization",level:2},{value:"7.6.1 Simulation Tuning",id:"761-simulation-tuning",level:3},{value:"7.6.2 Memory Management",id:"762-memory-management",level:3},{value:"7.7 Integration with ROS 2",id:"77-integration-with-ros-2",level:2},{value:"7.7.1 Gazebo-ROS Bridge",id:"771-gazebo-ros-bridge",level:3},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 7.1: Physics Engine Comparison",id:"exercise-71-physics-engine-comparison",level:3},{value:"Exercise 7.2: Custom Robot Model",id:"exercise-72-custom-robot-model",level:3},{value:"Exercise 7.3: Sensor Plugin Development",id:"exercise-73-sensor-plugin-development",level:3},{value:"Exercise 7.4: Performance Optimization",id:"exercise-74-performance-optimization",level:3},{value:"Exercise 7.5: Integration Project",id:"exercise-75-integration-project",level:3},{value:"Glossary Terms",id:"glossary-terms",level:2}];function c(e){const n={admonition:"admonition",annotation:"annotation",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mi:"mi",mo:"mo",mover:"mover",mrow:"mrow",msub:"msub",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"chapter-7-gazebo-physics-simulation",children:"Chapter 7: Gazebo Physics Simulation"})}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo is a leading open-source 3D simulation environment for robotics, providing realistic physics simulation, sensor modeling, and rendering capabilities. It serves as a critical tool in the robotics development pipeline, enabling algorithm testing, system integration, and safe exploration of robotic behaviors before deployment in the real world. This chapter explores the fundamentals of Gazebo physics simulation, from basic physics concepts to advanced plugin development."}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"Gazebo bridges the gap between algorithm development and real-world deployment by providing a realistic physics environment where robots can be tested, trained, and validated without risk to hardware or personnel."})}),"\n",(0,a.jsx)(n.h2,{id:"71-gazebo-architecture-overview",children:"7.1 Gazebo Architecture Overview"}),"\n",(0,a.jsx)(n.h3,{id:"711-system-architecture",children:"7.1.1 System Architecture"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo uses a modular architecture that separates physics, rendering, sensors, and GUI components:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Diagram: Gazebo Architecture"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502                     Gazebo Client                           \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\r\n\u2502  \u2502   GUI   \u2502  \u2502   API   \u2502  \u2502   CLI   \u2502  \u2502Plugins  \u2502        \u2502\r\n\u2502  \u2502         \u2502  \u2502         \u2502  \u2502         \u2502  \u2502         \u2502        \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                              \u2195\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502                     Gazebo Server                           \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\r\n\u2502  \u2502                  Physics Engine                          \u2502 \u2502\r\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502 \u2502\r\n\u2502  \u2502  \u2502   ODE   \u2502  \u2502  Bullet \u2502  \u2502  DART   \u2502                 \u2502 \u2502\r\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502 \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\r\n\u2502  \u2502                 Rendering Engine                         \u2502 \u2502\r\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502 \u2502\r\n\u2502  \u2502  \u2502  Ogre   \u2502  \u2502  OpenGL \u2502  \u2502   RTX   \u2502                 \u2502 \u2502\r\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502 \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\r\n\u2502  \u2502                Sensor Systems                           \u2502 \u2502\r\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502 \u2502\r\n\u2502  \u2502  \u2502 Camera  \u2502  \u2502  LiDAR  \u2502   \u2502   IMU   \u2502                 \u2502 \u2502\r\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502 \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,a.jsx)(n.h3,{id:"712-physics-engine-options",children:"7.1.2 Physics Engine Options"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo supports multiple physics engines, each with different characteristics:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"ODE (Open Dynamics Engine)"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Most mature and stable"}),"\n",(0,a.jsx)(n.li,{children:"Good for general-purpose simulation"}),"\n",(0,a.jsx)(n.li,{children:"Limited support for complex contacts"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Bullet Physics"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Modern features and optimizations"}),"\n",(0,a.jsx)(n.li,{children:"Better soft body support"}),"\n",(0,a.jsx)(n.li,{children:"GPU acceleration available"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"DART (Dynamic Animation and Robotics Toolkit)"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Designed for robotics simulation"}),"\n",(0,a.jsx)(n.li,{children:"Excellent for articulated bodies"}),"\n",(0,a.jsx)(n.li,{children:"Advanced collision detection"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",metastring:'title="Physics Engine Configuration"',children:'<?xml version="1.0"?>\r\n<sdf version="1.6">\r\n  <world name="physics_test">\r\n\r\n    \x3c!-- Physics engine configuration --\x3e\r\n    <physics name="1ms" type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1.0</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n\r\n      \x3c!-- ODE specific settings --\x3e\r\n      <ode>\r\n        <solver>\r\n          <type>quick</type>\r\n          <iters>10</iters>\r\n          <sor>1.3</sor>\r\n          <use_dynamic_moi_rescaling>0</use_dynamic_moi_rescaling>\r\n        </solver>\r\n        <constraints>\r\n          <cfm>0</cfm>\r\n          <erp>0.2</erp>\r\n          <contact_max_correcting_vel>100</contact_max_correcting_vel>\r\n          <contact_surface_layer>0.001</contact_surface_layer>\r\n        </constraints>\r\n      </ode>\r\n\r\n      \x3c!-- Gravity configuration --\x3e\r\n      <gravity>0 0 -9.8066</gravity>\r\n      <magnetic_field>6.0e-6 2.3e-5 -4.2e-5</magnetic_field>\r\n    </physics>\r\n\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"72-physics-engine-fundamentals",children:"7.2 Physics Engine Fundamentals"}),"\n",(0,a.jsx)(n.h3,{id:"721-rigid-body-dynamics",children:"7.2.1 Rigid Body Dynamics"}),"\n",(0,a.jsx)(n.p,{children:"The physics engine implements Newton's laws for rigid bodies:"}),"\n",(0,a.jsx)(n.span,{className:"katex-display",children:(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"}),(0,a.jsx)(n.mo,{children:"="}),(0,a.jsx)(n.mi,{children:"m"}),(0,a.jsx)(n.mi,{mathvariant:"bold",children:"a"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{F} = m\\mathbf{a}"})]})})}),(0,a.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.6861em"}}),(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(n.span,{className:"mrel",children:"="}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.4444em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"m"}),(0,a.jsx)(n.span,{className:"mord mathbf",children:"a"})]})]})]})}),"\n",(0,a.jsx)(n.span,{className:"katex-display",children:(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"\u03c4"}),(0,a.jsx)(n.mo,{children:"="}),(0,a.jsx)(n.mi,{children:"I"}),(0,a.jsx)(n.mi,{mathvariant:"bold",children:"\u03b1"})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{\\tau} = I\\mathbf{\\alpha}"})]})})}),(0,a.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.1132em"},children:"\u03c4"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(n.span,{className:"mrel",children:"="}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"},children:"\u03b1"})]})]})]})}),"\n",(0,a.jsx)(n.p,{children:"Where:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{F}"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.6861em"}}),(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"})]})})]})," - Force vector"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{children:"m"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"m"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"m"})]})})]})," - Mass"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{mathvariant:"bold",children:"a"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{a}"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.4444em"}}),(0,a.jsx)(n.span,{className:"mord mathbf",children:"a"})]})})]})," - Linear acceleration"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{mathvariant:"bold",children:"\u03c4"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{\\tau}"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.1132em"},children:"\u03c4"})]})})]})," - Torque vector"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{children:"I"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"I"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"})]})})]})," - Inertia tensor"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsx)(n.mi,{mathvariant:"bold",children:"\u03b1"})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{\\alpha}"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.4306em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"},children:"\u03b1"})]})})]})," - Angular acceleration"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"722-collision-detection-and-response",children:"7.2.2 Collision Detection and Response"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo implements collision detection in multiple phases:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Diagram: Collision Detection Pipeline"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Broad Phase Collision Detection\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Spatial Partitioning             \u2502\r\n\u2502 - AABB trees                    \u2502\r\n\u2502 - Octree/BVH                    \u2502\r\n\u2502 - Sweep and Prune               \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n              \u2193\r\nNarrow Phase Collision Detection\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Precise Collision Testing       \u2502\r\n\u2502 - GJK (Gilbert-Johnson-Keerthi) \u2502\r\n\u2502 - EPA (Expanding Polytope)      \u2502\r\n\u2502 - SAT (Separating Axis Theorem) \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n              \u2193\r\nCollision Response\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Physics Resolution              \u2502\r\n\u2502 - Impulse-based response       \u2502\r\n\u2502 - Contact force calculation     \u2502\r\n\u2502 - Friction modeling             \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,a.jsx)(n.h3,{id:"723-contact-and-friction-models",children:"7.2.3 Contact and Friction Models"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Contact Forces"})}),"\n",(0,a.jsx)(n.span,{className:"katex-display",children:(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"t"})]})]}),(0,a.jsx)(n.mo,{children:"="}),(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"m"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"l"})]})]}),(0,a.jsx)(n.mo,{children:"+"}),(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"f"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"n"})]})]})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{F}_{contact} = \\mathbf{F}_{normal} + \\mathbf{F}_{friction}"})]})})}),(0,a.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8361em",verticalAlign:"-0.15em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.2806em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"co"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"c"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(n.span,{className:"mrel",children:"="}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8361em",verticalAlign:"-0.15em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"ma"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"+"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.9722em",verticalAlign:"-0.2861em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"c"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(n.span,{})})})]})})]})]})]})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Normal Force"})}),"\n",(0,a.jsx)(n.span,{className:"katex-display",children:(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"m"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"l"})]})]}),(0,a.jsx)(n.mo,{children:"="}),(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{children:"k"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"n"})]})]}),(0,a.jsx)(n.mo,{children:"\u22c5"}),(0,a.jsx)(n.mi,{children:"\u03b4"}),(0,a.jsx)(n.mo,{children:"+"}),(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{children:"d"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"p"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"n"})]})]}),(0,a.jsx)(n.mo,{children:"\u22c5"}),(0,a.jsxs)(n.mover,{accent:"true",children:[(0,a.jsx)(n.mi,{children:"\u03b4"}),(0,a.jsx)(n.mo,{children:"\u02d9"})]})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{F}_{normal} = k_{penetration} \\cdot \\delta + d_{penetration} \\cdot \\dot{\\delta}"})]})})}),(0,a.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.8361em",verticalAlign:"-0.15em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"ma"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(n.span,{className:"mrel",children:"="}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.9805em",verticalAlign:"-0.2861em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"-0.0315em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"e"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"e"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.7778em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.03785em"},children:"\u03b4"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"+"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.9805em",verticalAlign:"-0.2861em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathnormal",children:"d"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"p"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"e"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"e"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"a"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.9313em"}}),(0,a.jsx)(n.span,{className:"mord accent",children:(0,a.jsx)(n.span,{className:"vlist-t",children:(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsxs)(n.span,{className:"vlist",style:{height:"0.9313em"},children:[(0,a.jsxs)(n.span,{style:{top:"-3em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",style:{marginRight:"0.03785em"},children:"\u03b4"})]}),(0,a.jsxs)(n.span,{style:{top:"-3.2634em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"accent-body",style:{left:"-0.0833em"},children:(0,a.jsx)(n.span,{className:"mord",children:"\u02d9"})})]})]})})})})]})]})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Friction Force"})}),"\n",(0,a.jsx)(n.span,{className:"katex-display",children:(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsxs)(n.mrow,{children:[(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"f"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"c"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"n"})]})]}),(0,a.jsx)(n.mo,{children:"="}),(0,a.jsx)(n.mi,{children:"\u03bc"}),(0,a.jsx)(n.mo,{children:"\u22c5"}),(0,a.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsxs)(n.msub,{children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"F"}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"o"}),(0,a.jsx)(n.mi,{children:"r"}),(0,a.jsx)(n.mi,{children:"m"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"l"})]})]}),(0,a.jsx)(n.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(n.mo,{children:"\u22c5"}),(0,a.jsxs)(n.msub,{children:[(0,a.jsxs)(n.mover,{accent:"true",children:[(0,a.jsx)(n.mi,{mathvariant:"bold",children:"v"}),(0,a.jsx)(n.mo,{children:"^"})]}),(0,a.jsxs)(n.mrow,{children:[(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"g"}),(0,a.jsx)(n.mi,{children:"e"}),(0,a.jsx)(n.mi,{children:"n"}),(0,a.jsx)(n.mi,{children:"t"}),(0,a.jsx)(n.mi,{children:"i"}),(0,a.jsx)(n.mi,{children:"a"}),(0,a.jsx)(n.mi,{children:"l"})]})]})]}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\mathbf{F}_{friction} = \\mu \\cdot |\\mathbf{F}_{normal}| \\cdot \\hat{\\mathbf{v}}_{tangential}"})]})})}),(0,a.jsxs)(n.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.9722em",verticalAlign:"-0.2861em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"r"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"c"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"o"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(n.span,{className:"mrel",children:"="}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.6389em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(n.span,{className:"mord mathnormal",children:"\u03bc"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(n.span,{className:"mord",children:"\u2223"}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord mathbf",children:"F"}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"or"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"ma"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(n.span,{})})})]})})]}),(0,a.jsx)(n.span,{className:"mord",children:"\u2223"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(n.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(n.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"0.994em",verticalAlign:"-0.2861em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mord accent",children:(0,a.jsx)(n.span,{className:"vlist-t",children:(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsxs)(n.span,{className:"vlist",style:{height:"0.7079em"},children:[(0,a.jsxs)(n.span,{style:{top:"-3em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"mord mathbf",style:{marginRight:"0.01597em"},children:"v"})]}),(0,a.jsxs)(n.span,{style:{top:"-3.0134em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"accent-body",style:{left:"-0.2222em"},children:(0,a.jsx)(n.span,{className:"mord",children:"^"})})]})]})})})}),(0,a.jsx)(n.span,{className:"msupsub",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.3361em"},children:(0,a.jsxs)(n.span,{style:{top:"-2.55em",marginLeft:"-0.016em",marginRight:"0.05em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(n.span,{className:"mord mtight",children:[(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"an"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"g"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"e"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"n"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"t"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",children:"ia"}),(0,a.jsx)(n.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"})]})})]})}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.2861em"},children:(0,a.jsx)(n.span,{})})})]})})]})]})]})]})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Custom Contact Plugin"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp#include",metastring:"<gazebo/physics/physics.hh>",children:'#include <gazebo/common/common.hh>\r\n#include <gazebo/gazebo.hh>\r\n\r\nnamespace gazebo {\r\nclass CustomContactPlugin : public ModelPlugin {\r\npublic:\r\n    void Load(physics::ModelPtr _parent, sdf::ElementPtr _sdf) override {\r\n        this->model = _parent;\r\n        this->world = _parent->GetWorld();\r\n\r\n        // Connect to contact event\r\n        this->contactManager = this->world->Physics()->GetContactManager();\r\n        this->connection = this->contactManager->ConnectContactResponse(\r\n            std::bind(&CustomContactPlugin::OnContact, this,\r\n            std::placeholders::_1));\r\n\r\n        ROS_INFO("Custom contact plugin loaded");\r\n    }\r\n\r\nprivate:\r\n    void OnContact(const msgs::Contact &_msg) {\r\n        // Process contact information\r\n        for (int i = 0; i < _msg.contact_size(); ++i) {\r\n            const msgs::Contact &contact = _msg.contact(i);\r\n\r\n            // Extract collision names\r\n            std::string collision1 = contact.collision1();\r\n            std::string collision2 = contact.collision2();\r\n\r\n            // Calculate contact force\r\n            ignition::math::Vector3d force(\r\n                contact.wrench(0).force().x(),\r\n                contact.wrench(0).force().y(),\r\n                contact.wrench(0).force().z()\r\n            );\r\n\r\n            // Custom contact handling\r\n            ProcessContact(collision1, collision2, force);\r\n        }\r\n    }\r\n\r\n    void ProcessContact(const std::string &col1, const std::string &col2,\r\n                       const ignition::math::Vector3d &force) {\r\n        // Custom contact processing logic\r\n        double force_magnitude = force.Length();\r\n\r\n        if (force_magnitude > this->contact_threshold) {\r\n            ROS_INFO("High force contact: %s - %s, Force: %.2f N",\r\n                     col1.c_str(), col2.c_str(), force_magnitude);\r\n        }\r\n    }\r\n\r\n    physics::ModelPtr model;\r\n    physics::WorldPtr world;\r\n    physics::ContactManagerPtr contactManager;\r\n    event::ConnectionPtr connection;\r\n    double contact_threshold = 10.0; // Newtons\r\n};\r\n\r\nGZ_REGISTER_MODEL_PLUGIN(CustomContactPlugin)\r\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"73-robot-modeling-in-gazebo",children:"7.3 Robot Modeling in Gazebo"}),"\n",(0,a.jsx)(n.h3,{id:"731-urdf-to-sdf-conversion",children:"7.3.1 URDF to SDF Conversion"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo uses Simulation Description Format (SDF) while ROS typically uses URDF. The conversion process adds simulation-specific properties:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Diagram: URDF to SDF Enhancement"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"URDF (Robot Description)\r\n\u251c\u2500\u2500 Links (geometry, visual)\r\n\u251c\u2500\u2500 Joints (kinematics)\r\n\u2514\u2500\u2500 Materials (appearance)\r\n              \u2193\r\nConversion Process\r\n              \u2193\r\nSDF (Simulation Description)\r\n\u251c\u2500\u2500 URDF properties (preserved)\r\n\u251c\u2500\u2500 Collision geometry (added)\r\n\u251c\u2500\u2500 Physical properties (mass, inertia)\r\n\u251c\u2500\u2500 Sensor definitions (added)\r\n\u251c\u2500\u2500 Plugin configurations (added)\r\n\u251c\u2500\u2500 Material properties (physics)\r\n\u2514\u2500\u2500 World positioning (added)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"732-complete-robot-model-example",children:"7.3.2 Complete Robot Model Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",metastring:'title="Mobile Robot SDF Model"',children:'<?xml version="1.0"?>\r\n<sdf version="1.6">\r\n  <model name="mobile_robot">\r\n\r\n    \x3c!-- Base link --\x3e\r\n    <link name="base_link">\r\n      <inertial>\r\n        <mass>20.0</mass>\r\n        <inertia>\r\n          <ixx>1.0</ixx>\r\n          <ixy>0.0</ixy>\r\n          <ixz>0.0</ixz>\r\n          <iyy>1.0</iyy>\r\n          <iyz>0.0</iyz>\r\n          <izz>1.0</izz>\r\n        </inertia>\r\n      </inertial>\r\n\r\n      <visual name="base_visual">\r\n        <geometry>\r\n          <box>\r\n            <size>0.5 0.4 0.2</size>\r\n          </box>\r\n        </geometry>\r\n        <material>\r\n          <ambient>0.8 0.8 0.8 1</ambient>\r\n          <diffuse>0.8 0.8 0.8 1</diffuse>\r\n        </material>\r\n      </visual>\r\n\r\n      <collision name="base_collision">\r\n        <geometry>\r\n          <box>\r\n            <size>0.5 0.4 0.2</size>\r\n          </box>\r\n        </geometry>\r\n        <surface>\r\n          <friction>\r\n            <ode>\r\n              <mu>0.9</mu>\r\n              <mu2>0.9</mu2>\r\n            </ode>\r\n          </friction>\r\n          <contact>\r\n            <ode>\r\n              <max_vel>100</max_vel>\r\n              <min_depth>0.01</min_depth>\r\n            </ode>\r\n          </contact>\r\n        </surface>\r\n      </collision>\r\n    </link>\r\n\r\n    \x3c!-- Left wheel --\x3e\r\n    <link name="left_wheel">\r\n      <inertial>\r\n        <mass>1.0</mass>\r\n        <inertia>\r\n          <ixx>0.1</ixx>\r\n          <iyy>0.1</iyy>\r\n          <izz>0.1</izz>\r\n        </inertia>\r\n        <pose>0 0 0 0 0 0</pose>\r\n      </inertial>\r\n\r\n      <visual name="left_wheel_visual">\r\n        <geometry>\r\n          <cylinder>\r\n            <radius>0.1</radius>\r\n            <length>0.05</length>\r\n          </cylinder>\r\n        </geometry>\r\n        <pose>0.15 -0.25 0 0 1.5708 0</pose>\r\n        <material>\r\n          <ambient>0.2 0.2 0.2 1</ambient>\r\n          <diffuse>0.2 0.2 0.2 1</diffuse>\r\n        </material>\r\n      </visual>\r\n\r\n      <collision name="left_wheel_collision">\r\n        <geometry>\r\n          <cylinder>\r\n            <radius>0.1</radius>\r\n            <length>0.05</length>\r\n          </cylinder>\r\n        </geometry>\r\n        <pose>0.15 -0.25 0 0 1.5708 0</pose>\r\n        <surface>\r\n          <friction>\r\n            <ode>\r\n              <mu>1.0</mu>\r\n              <mu2>1.0</mu2>\r\n            </ode>\r\n          </friction>\r\n        </surface>\r\n      </collision>\r\n    </link>\r\n\r\n    \x3c!-- Left wheel joint --\x3e\r\n    <joint name="left_wheel_joint" type="revolute">\r\n      <parent>base_link</parent>\r\n      <child>left_wheel</child>\r\n      <pose>0 0 0 0 0 0</pose>\r\n      <axis>\r\n        <xyz>0 1 0</xyz>\r\n      </axis>\r\n    </joint>\r\n\r\n    \x3c!-- Right wheel (similar structure) --\x3e\r\n    <link name="right_wheel">\r\n      \x3c!-- Similar to left wheel --\x3e\r\n    </link>\r\n\r\n    <joint name="right_wheel_joint" type="revolute">\r\n      <parent>base_link</parent>\r\n      <child>right_wheel</child>\r\n      <pose>0 0 0 0 0 0</pose>\r\n      <axis>\r\n        <xyz>0 1 0</xyz>\r\n      </axis>\r\n    </joint>\r\n\r\n    \x3c!-- Caster wheel --\x3e\r\n    <link name="caster_wheel">\r\n      <inertial>\r\n        <mass>0.5</mass>\r\n        <inertia>\r\n          <ixx>0.01</ixx>\r\n          <iyy>0.01</iyy>\r\n          <izz>0.01</izz>\r\n        </inertia>\r\n      </inertial>\r\n\r\n      <visual name="caster_visual">\r\n        <geometry>\r\n          <sphere>\r\n            <radius>0.05</radius>\r\n          </sphere>\r\n        </geometry>\r\n        <pose>-0.2 0 -0.05 0 0 0</pose>\r\n        <material>\r\n          <ambient>0.5 0.5 0.5 1</ambient>\r\n          <diffuse>0.5 0.5 0.5 1</diffuse>\r\n        </material>\r\n      </visual>\r\n\r\n      <collision name="caster_collision">\r\n        <geometry>\r\n          <sphere>\r\n            <radius>0.05</radius>\r\n          </sphere>\r\n        </geometry>\r\n        <pose>-0.2 0 -0.05 0 0 0</pose>\r\n      </collision>\r\n    </link>\r\n\r\n    <joint name="caster_joint" type="sphere">\r\n      <parent>base_link</parent>\r\n      <child>caster_wheel</child>\r\n    </joint>\r\n\r\n    \x3c!-- Camera sensor --\x3e\r\n    <link name="camera_link">\r\n      <inertial>\r\n        <mass>0.1</mass>\r\n      </inertial>\r\n\r\n      <sensor name="camera" type="camera">\r\n        <pose>0 0 0 0 0 0</pose>\r\n        <camera>\r\n          <horizontal_fov>1.047</horizontal_fov>\r\n          <image>\r\n            <width>640</width>\r\n            <height>480</height>\r\n            <format>R8G8B8</format>\r\n          </image>\r\n          <clip>\r\n            <near>0.1</near>\r\n            <far>100</far>\r\n          </clip>\r\n        </camera>\r\n        <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n          <ros>\r\n            <namespace>/camera</namespace>\r\n            <image_topic_name>/image_raw</image_topic_name>\r\n            <camera_info_topic_name>/camera_info</camera_info_topic_name>\r\n            <frame_name>camera_link</frame_name>\r\n          </ros>\r\n        </plugin>\r\n      </sensor>\r\n    </link>\r\n\r\n    <joint name="camera_joint" type="fixed">\r\n      <parent>base_link</parent>\r\n      <child>camera_link</child>\r\n      <pose>0.25 0 0.1 0 0 0</pose>\r\n    </joint>\r\n\r\n    \x3c!-- LiDAR sensor --\x3e\r\n    <link name="laser_link">\r\n      <inertial>\r\n        <mass>0.2</mass>\r\n      </inertial>\r\n\r\n      <sensor name="laser" type="ray">\r\n        <pose>0 0 0 0 0 0</pose>\r\n        <ray>\r\n          <scan>\r\n            <horizontal>\r\n              <samples>360</samples>\r\n              <resolution>1</resolution>\r\n              <min_angle>-3.14159</min_angle>\r\n              <max_angle>3.14159</max_angle>\r\n            </horizontal>\r\n          </scan>\r\n          <range>\r\n            <min>0.1</min>\r\n            <max>10.0</max>\r\n            <resolution>0.01</resolution>\r\n          </range>\r\n        </ray>\r\n        <plugin name="laser_controller" filename="libgazebo_ros_ray_sensor.so">\r\n          <ros>\r\n            <namespace>/laser</namespace>\r\n            <topic_name>/scan</topic_name>\r\n            <frame_name>laser_link</frame_name>\r\n          </ros>\r\n        </plugin>\r\n      </sensor>\r\n    </link>\r\n\r\n    <joint name="laser_joint" type="fixed">\r\n      <parent>base_link</parent>\r\n      <child>laser_link</child>\r\n      <pose>0 0 0.3 0 0 0</pose>\r\n    </joint>\r\n\r\n    \x3c!-- Differential drive plugin --\x3e\r\n    <plugin name="differential_drive_controller" filename="libgazebo_ros_diff_drive.so">\r\n      <ros>\r\n        <namespace>/</namespace>\r\n        <remapping>cmd_vel:=cmd_vel</remapping>\r\n        <remapping>odom:=odom</remapping>\r\n      </ros>\r\n\r\n      \x3c!-- wheels --\x3e\r\n      <left_joint>left_wheel_joint</left_joint>\r\n      <right_joint>right_wheel_joint</right_joint>\r\n\r\n      \x3c!-- kinematics --\x3e\r\n      <wheel_separation>0.5</wheel_separation>\r\n      <wheel_diameter>0.2</wheel_diameter>\r\n      <max_wheel_torque>20</max_wheel_torque>\r\n      <max_wheel_acceleration>1.0</max_wheel_acceleration>\r\n\r\n      \x3c!-- output --\x3e\r\n      <publish_odom>true</publish_odom>\r\n      <publish_odom_tf>true</publish_odom_tf>\r\n      <publish_wheel_tf>true</publish_wheel_tf>\r\n\r\n      <odometry_source>world</odometry_source>\r\n    </plugin>\r\n\r\n  </model>\r\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"74-sensor-simulation",children:"7.4 Sensor Simulation"}),"\n",(0,a.jsx)(n.h3,{id:"741-camera-sensor-modeling",children:"7.4.1 Camera Sensor Modeling"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo simulates camera sensors with realistic optics and image processing:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Custom Camera Plugin"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp#include",metastring:"<gazebo/plugins/CameraPlugin.hh>",children:'#include <gazebo/sensors/SensorTypes.hh>\r\n#include <sensor_msgs/Image.h>\r\n#include <sensor_msgs/CameraInfo.h>\r\n\r\nnamespace gazebo {\r\nclass CustomCameraPlugin : public CameraPlugin {\r\npublic:\r\n    CustomCameraPlugin() : CameraPlugin() {}\r\n\r\n    void Load(sensors::SensorPtr _sensor, sdf::ElementPtr _sdf) override {\r\n        // Load CameraPlugin parent\r\n        CameraPlugin::Load(_sensor, _sdf);\r\n\r\n        // Get ROS node\r\n        this->node = transport::NodePtr(new transport::Node());\r\n        this->node->Init(this->world->Name());\r\n\r\n        // ROS initialization\r\n        if (!ros::isInitialized()) {\r\n            int argc = 0;\r\n            char **argv = NULL;\r\n            ros::init(argc, argv, this->world->Name() + "_camera",\r\n                      ros::init_options::NoSigintHandler);\r\n        }\r\n\r\n        this->rosNode.reset(new ros::NodeHandle(this->world->Name()));\r\n\r\n        // Get camera sensor\r\n        this->parentSensor = std::dynamic_pointer_cast<sensors::CameraSensor>(_sensor);\r\n\r\n        if (!this->parentSensor) {\r\n            gzerr << "CustomCameraPlugin requires a CameraSensor.\\n";\r\n            return;\r\n        }\r\n\r\n        // Get camera name\r\n        if (_sdf->HasElement("cameraName")) {\r\n            this->cameraName = _sdf->Get<std::string>("cameraName");\r\n        } else {\r\n            this->cameraName = this->parentSensor->Name();\r\n        }\r\n\r\n        // Create ROS publishers\r\n        this->imagePub = this->rosNode->advertise<sensor_msgs::Image>(\r\n            this->cameraName + "/image_raw", 1);\r\n        this->infoPub = this->rosNode->advertise<sensor_msgs::CameraInfo>(\r\n            this->cameraName + "/camera_info", 1);\r\n\r\n        // Connect to camera update\r\n        this->parentSensor->ConnectUpdated(\r\n            std::bind(&CustomCameraPlugin::OnNewFrame, this));\r\n\r\n        this->parentSensor->SetActive(true);\r\n    }\r\n\r\nprivate:\r\n    void OnNewFrame() {\r\n        // Get image data\r\n        unsigned char* data = this->image.data;\r\n        uint32_t width = this->image.width;\r\n        uint32_t height = this->image.height;\r\n\r\n        // Create ROS image message\r\n        sensor_msgs::Image image_msg;\r\n        image_msg.header.stamp = ros::Time(this->parentSensor->LastMeasurementTime());\r\n        image_msg.header.frame_id = this->cameraName + "_optical_frame";\r\n        image_msg.height = height;\r\n        image_msg.width = width;\r\n        image_msg.encoding = "rgb8";\r\n        image_msg.step = width * 3;\r\n        image_msg.data.resize(width * height * 3);\r\n\r\n        // Copy image data\r\n        memcpy(&image_msg.data[0], data, width * height * 3);\r\n\r\n        // Create camera info message\r\n        sensor_msgs::CameraInfo info_msg;\r\n        info_msg.header = image_msg.header;\r\n        info_msg.height = height;\r\n        info_msg.width = width;\r\n\r\n        // Camera intrinsics\r\n        double fx = this->camera->HFOV().Radian() / (2.0 * tan(this->camera->HFOV().Radian() / 2.0));\r\n        double fy = fx;\r\n        double cx = width / 2.0;\r\n        double cy = height / 2.0;\r\n\r\n        info_msg.K[0] = fx;\r\n        info_msg.K[2] = cx;\r\n        info_msg.K[4] = fy;\r\n        info_msg.K[5] = cy;\r\n        info_msg.K[8] = 1.0;\r\n\r\n        // Publish messages\r\n        this->imagePub.publish(image_msg);\r\n        this->infoPub.publish(info_msg);\r\n    }\r\n\r\n    ros::NodeHandlePtr rosNode;\r\n    ros::Publisher imagePub;\r\n    ros::Publisher infoPub;\r\n    std::string cameraName;\r\n};\r\n\r\nGZ_REGISTER_SENSOR_PLUGIN(CustomCameraPlugin)\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"742-lidar-sensor-simulation",children:"7.4.2 LiDAR Sensor Simulation"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: LiDAR Data Processing"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-pythonimport",metastring:"numpy as np",children:'import matplotlib.pyplot as plt\r\nfrom sensor_msgs.msg import LaserScan\r\n\r\nclass LidarProcessor:\r\n    def __init__(self):\r\n        self.scan_data = None\r\n        self.min_range = 0.1\r\n        self.max_range = 10.0\r\n\r\n    def process_scan(self, scan_msg):\r\n        """Process LiDAR scan message"""\r\n        self.scan_data = scan_msg\r\n\r\n        # Convert to numpy array\r\n        ranges = np.array(scan_msg.ranges)\r\n        angles = np.linspace(\r\n            scan_msg.angle_min,\r\n            scan_msg.angle_max,\r\n            len(ranges)\r\n        )\r\n\r\n        # Filter invalid readings\r\n        valid_ranges = ranges[\r\n            (ranges >= self.min_range) &\r\n            (ranges <= self.max_range)\r\n        ]\r\n        valid_angles = angles[\r\n            (ranges >= self.min_range) &\r\n            (ranges <= self.max_range)\r\n        ]\r\n\r\n        return valid_ranges, valid_angles\r\n\r\n    def detect_obstacles(self, ranges, angles, threshold=1.0):\r\n        """Detect obstacles in LiDAR data"""\r\n        obstacles = []\r\n\r\n        for i, (r, theta) in enumerate(zip(ranges, angles)):\r\n            if r < threshold:\r\n                # Convert polar to Cartesian\r\n                x = r * np.cos(theta)\r\n                y = r * np.sin(theta)\r\n                obstacles.append([x, y])\r\n\r\n        return np.array(obstacles)\r\n\r\n    def segment_clusters(self, obstacles, distance_threshold=0.5):\r\n        """Cluster obstacle points"""\r\n        if len(obstacles) == 0:\r\n            return []\r\n\r\n        clusters = []\r\n        visited = np.zeros(len(obstacles), dtype=bool)\r\n\r\n        for i in range(len(obstacles)):\r\n            if visited[i]:\r\n                continue\r\n\r\n            cluster = [obstacles[i]]\r\n            visited[i] = True\r\n\r\n            # Find nearby points\r\n            for j in range(i+1, len(obstacles)):\r\n                if not visited[j]:\r\n                    dist = np.linalg.norm(obstacles[i] - obstacles[j])\r\n                    if dist < distance_threshold:\r\n                        cluster.append(obstacles[j])\r\n                        visited[j] = True\r\n\r\n            clusters.append(np.array(cluster))\r\n\r\n        return clusters\r\n\r\n    def visualize_scan(self, ranges, angles, obstacles=None):\r\n        """Visualize LiDAR scan"""\r\n        plt.figure(figsize=(10, 10))\r\n\r\n        # Plot LiDAR scan\r\n        x = ranges * np.cos(angles)\r\n        y = ranges * np.sin(angles)\r\n\r\n        plt.subplot(111, projection=\'polar\')\r\n        plt.plot(angles, ranges, \'b.\', markersize=2, label=\'Laser scan\')\r\n\r\n        if obstacles is not None:\r\n            # Plot detected obstacles\r\n            for obs in obstacles:\r\n                obs_angles = np.arctan2(obs[:, 1], obs[:, 0])\r\n                obs_ranges = np.linalg.norm(obs, axis=1)\r\n                plt.plot(obs_angles, obs_ranges, \'ro\', markersize=4, label=\'Obstacle\')\r\n\r\n        plt.title(\'LiDAR Scan Visualization\')\r\n        plt.grid(True)\r\n        plt.legend()\r\n        plt.show()\r\n\r\n# Example usage\r\nprocessor = LidarProcessor()\r\n\r\n# Simulate LiDAR scan processing\r\ndef simulate_lidar_processing():\r\n    # Create sample scan data\r\n    scan = LaserScan()\r\n    scan.header.stamp = rospy.Time.now()\r\n    scan.header.frame_id = "laser"\r\n    scan.angle_min = -np.pi\r\n    scan.angle_max = np.pi\r\n    scan.angle_increment = np.pi / 180\r\n    scan.range_min = 0.1\r\n    scan.range_max = 10.0\r\n\r\n    # Generate sample ranges (simulating obstacles)\r\n    angles = np.linspace(scan.angle_min, scan.angle_max, 360)\r\n    ranges = np.ones(360) * 8.0  # Default range\r\n\r\n    # Add some obstacles\r\n    ranges[90:110] = 2.0  # Front obstacle\r\n    ranges[180:200] = 3.0  # Left obstacle\r\n\r\n    scan.ranges = ranges.tolist()\r\n\r\n    # Process scan\r\n    valid_ranges, valid_angles = processor.process_scan(scan)\r\n    obstacles = processor.detect_obstacles(valid_ranges, valid_angles, threshold=4.0)\r\n\r\n    if len(obstacles) > 0:\r\n        clusters = processor.segment_clusters(obstacles)\r\n        print(f"Detected {len(clusters)} obstacle clusters")\r\n\r\n    # Visualize\r\n    processor.visualize_scan(valid_ranges, valid_angles, obstacles)\r\n\r\n# Uncomment to run simulation\r\n# simulate_lidar_processing()\n'})}),"\n",(0,a.jsx)(n.h2,{id:"75-advanced-gazebo-features",children:"7.5 Advanced Gazebo Features"}),"\n",(0,a.jsx)(n.h3,{id:"751-plugin-development",children:"7.5.1 Plugin Development"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo plugins extend simulation capabilities:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Custom Physics Plugin"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp#include",metastring:"<gazebo/physics/physics.hh>",children:'#include <gazebo/common/Plugin.hh>\r\n#include <ros/ros.h>\r\n#include <std_msgs/Float64.h>\r\n\r\nnamespace gazebo {\r\n\r\nclass CustomPhysicsPlugin : public WorldPlugin {\r\npublic:\r\n    CustomPhysicsPlugin() : WorldPlugin() {}\r\n\r\n    void Load(physics::WorldPtr _world, sdf::ElementPtr _sdf) override {\r\n        this->world = _world;\r\n\r\n        // ROS initialization\r\n        if (!ros::isInitialized()) {\r\n            int argc = 0;\r\n            char **argv = NULL;\r\n            ros::init(argc, argv, "custom_physics_plugin");\r\n        }\r\n\r\n        this->rosNode.reset(new ros::NodeHandle());\r\n\r\n        // ROS subscribers\r\n        this->gravitySub = this->rosNode->subscribe(\r\n            "/gravity_multiplier", 1,\r\n            &CustomPhysicsPlugin::OnGravityMsg, this);\r\n\r\n        // Connect to physics update\r\n        this->updateConnection = event::Events::ConnectWorldUpdateBegin(\r\n            std::bind(&CustomPhysicsPlugin::OnUpdate, this));\r\n\r\n        // Initialize gravity\r\n        this->gravityMultiplier = 1.0;\r\n\r\n        ROS_INFO("Custom physics plugin loaded");\r\n    }\r\n\r\nprivate:\r\n    void OnUpdate() {\r\n        // Apply custom physics modifications\r\n        physics::PhysicsEnginePtr physics = this->world->Physics();\r\n\r\n        // Modify gravity\r\n        ignition::math::Vector3d gravity = physics->Gravity();\r\n        gravity.Z(9.8066 * this->gravityMultiplier);\r\n        physics->SetGravity(gravity);\r\n\r\n        // Apply custom forces to models\r\n        for (auto model : this->world->Models()) {\r\n            ApplyCustomForces(model);\r\n        }\r\n    }\r\n\r\n    void ApplyCustomForces(physics::ModelPtr model) {\r\n        // Example: Apply drag force\r\n        ignition::math::Vector3d velocity = model->WorldLinearVel();\r\n        ignition::math::Vector3d drag_force = -0.1 * velocity;\r\n\r\n        // Apply force to main link\r\n        auto link = model->GetLink();\r\n        if (link) {\r\n            link->AddForce(drag_force);\r\n        }\r\n    }\r\n\r\n    void OnGravityMsg(const std_msgs::Float64::ConstPtr& msg) {\r\n        this->gravityMultiplier = msg->data;\r\n        ROS_INFO("Gravity multiplier set to: %.2f", this->gravityMultiplier);\r\n    }\r\n\r\n    physics::WorldPtr world;\r\n    event::ConnectionPtr updateConnection;\r\n    ros::NodeHandlePtr rosNode;\r\n    ros::Subscriber gravitySub;\r\n    double gravityMultiplier;\r\n};\r\n\r\nGZ_REGISTER_WORLD_PLUGIN(CustomPhysicsPlugin)\r\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"752-custom-materials",children:"7.5.2 Custom Materials"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Material Definitions"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml<?xml",metastring:'version="1.0"?>',children:'<sdf version="1.6">\r\n  <world name="material_test">\r\n\r\n    \x3c!-- Define custom materials --\x3e\r\n    <include>\r\n      <uri>model://custom_materials/materials</uri>\r\n    </include>\r\n\r\n    \x3c!-- Ground plane with custom material --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n\r\n    \x3c!-- Test objects with different materials --\x3e\r\n    <model name="test_objects">\r\n\r\n      \x3c!-- Rubber ball --\x3e\r\n        <link name="rubber_ball">\r\n          <visual name="visual">\r\n            <geometry>\r\n              <sphere>\r\n                <radius>0.1</radius>\r\n              </sphere>\r\n            </geometry>\r\n            <material>\r\n              <script>\r\n                <uri>model://custom_materials/materials/scripts</uri>\r\n                <uri>model://custom_materials/materials/textures</uri>\r\n                <name>Rubber/Red</name>\r\n              <\/script>\r\n            </material>\r\n          </visual>\r\n\r\n          <collision name="collision">\r\n            <geometry>\r\n              <sphere>\r\n                <radius>0.1</radius>\r\n              </sphere>\r\n            </geometry>\r\n            <surface>\r\n              <friction>\r\n                <ode>\r\n                  <mu>1.2</mu>\r\n                  <mu2>1.2</mu2>\r\n                </ode>\r\n              </friction>\r\n              <restitution>\r\n                <ode>\r\n                  <restitution_coefficient>0.8</restitution_coefficient>\r\n                </ode>\r\n              </restitution>\r\n            </surface>\r\n          </collision>\r\n\r\n          <inertial>\r\n            <mass>0.5</mass>\r\n            <inertia>\r\n              <ixx>0.002</ixx>\r\n              <iyy>0.002</iyy>\r\n              <izz>0.002</izz>\r\n            </inertia>\r\n          </inertial>\r\n        </link>\r\n      </model>\r\n\r\n    </model>\r\n\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"76-performance-optimization",children:"7.6 Performance Optimization"}),"\n",(0,a.jsx)(n.h3,{id:"761-simulation-tuning",children:"7.6.1 Simulation Tuning"}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsx)(n.p,{children:"Optimize Gazebo performance by adjusting physics parameters, reducing model complexity, and using appropriate time steps for your use case."})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Performance-Optimized Physics"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml<physics",metastring:'name="fast" type="ode">',children:"  \x3c!-- Larger time step for faster simulation --\x3e\r\n  <max_step_size>0.004</max_step_size>\r\n  <real_time_factor>2.0</real_time_factor>\r\n  <real_time_update_rate>250</real_time_update_rate>\r\n\r\n  <ode>\r\n    <solver>\r\n      \x3c!-- Use faster solver with fewer iterations --\x3e\r\n      <type>quick</type>\r\n      <iters>5</iters>\r\n      <sor>1.3</sor>\r\n    </solver>\r\n\r\n    <constraints>\r\n      \x3c!-- Reduce constraint accuracy for speed --\x3e\r\n      <cfm>0.00001</cfm>\r\n      <erp>0.2</erp>\r\n      <contact_max_correcting_vel>10</contact_max_correcting_vel>\r\n      <contact_surface_layer>0.001</contact_surface_layer>\r\n    </constraints>\r\n  </ode>\r\n</physics>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"762-memory-management",children:"7.6.2 Memory Management"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Memory-Efficient Simulation Control"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-pythonimport",metastring:"rospy",children:'import gazebo_msgs.srv\r\nfrom gazebo_msgs.msg import ModelStates\r\nfrom std_srvs.srv import Empty\r\n\r\nclass SimulationManager:\r\n    def __init__(self):\r\n        rospy.init_node(\'simulation_manager\')\r\n\r\n        # Wait for services\r\n        rospy.wait_for_service(\'/gazebo/unpause_physics\')\r\n        rospy.wait_for_service(\'/gazebo/pause_physics\')\r\n        rospy.wait_for_service(\'/gazebo/reset_world\')\r\n\r\n        # Service proxies\r\n        self.unpause = rospy.ServiceProxy(\'/gazebo/unpause_physics\', Empty)\r\n        self.pause = rospy.ServiceProxy(\'/gazebo/pause_physics\', Empty)\r\n        self.reset = rospy.ServiceProxy(\'/gazebo/reset_world\', Empty)\r\n\r\n        # Model state subscriber\r\n        self.model_sub = rospy.Subscriber(\r\n            \'/gazebo/model_states\', ModelStates, self.model_callback)\r\n\r\n        self.models = {}\r\n        self.simulation_time = 0.0\r\n\r\n    def model_callback(self, msg):\r\n        """Cache model information for efficiency"""\r\n        self.models = dict(zip(msg.name, msg.pose))\r\n\r\n    def reset_simulation(self):\r\n        """Reset and pause simulation for setup"""\r\n        self.reset()\r\n        self.pause()\r\n        rospy.sleep(1.0)  # Allow reset to complete\r\n\r\n    def run_simulation(self, duration):\r\n        """Run simulation for specified duration"""\r\n        self.unpause()\r\n\r\n        start_time = rospy.Time.now()\r\n        while (rospy.Time.now() - start_time).to_sec() < duration:\r\n            # Process simulation data\r\n            self.process_simulation_step()\r\n            rospy.sleep(0.01)  # 100 Hz control loop\r\n\r\n        self.pause()\r\n\r\n    def process_simulation_step(self):\r\n        """Process one step of simulation"""\r\n        # Efficient processing without excessive data collection\r\n        current_time = rospy.Time.now().to_sec()\r\n\r\n        # Process only relevant models\r\n        for model_name in [\'mobile_robot\', \'obstacle_1\', \'obstacle_2\']:\r\n            if model_name in self.models:\r\n                pose = self.models[model_name]\r\n                # Process pose data\r\n                self.process_model_pose(model_name, pose, current_time)\r\n\r\n        self.simulation_time = current_time\r\n\r\n    def process_model_pose(self, model_name, pose, time):\r\n        """Process individual model pose"""\r\n        # Extract position and orientation\r\n        x = pose.position.x\r\n        y = pose.position.y\r\n        z = pose.position.z\r\n\r\n        # Extract orientation\r\n        quat = pose.orientation\r\n        yaw = self.quaternion_to_yaw(quat)\r\n\r\n        # Process based on model type\r\n        if model_name == \'mobile_robot\':\r\n            self.process_robot_pose(x, y, yaw, time)\r\n        elif \'obstacle\' in model_name:\r\n            self.process_obstacle_pose(x, y, time)\r\n\r\n    def quaternion_to_yaw(self, quat):\r\n        """Convert quaternion to yaw angle"""\r\n        import math\r\n        siny_cosp = 2 * (quat.w * quat.z + quat.x * quat.y)\r\n        cosy_cosp = 1 - 2 * (quat.y * quat.y + quat.z * quat.z)\r\n        return math.atan2(siny_cosp, cosy_cosp)\r\n\r\n    def process_robot_pose(self, x, y, yaw, time):\r\n        """Process robot pose for navigation"""\r\n        # Implement navigation logic\r\n        pass\r\n\r\n    def process_obstacle_pose(self, x, y, time):\r\n        """Process obstacle pose for collision detection"""\r\n        # Implement obstacle tracking\r\n        pass\r\n\r\n# Usage example\r\nif __name__ == \'__main__\':\r\n    manager = SimulationManager()\r\n\r\n    # Reset simulation\r\n    manager.reset_simulation()\r\n\r\n    # Run multiple episodes\r\n    for episode in range(10):\r\n        print(f"Running episode {episode + 1}")\r\n\r\n        # Run simulation for 30 seconds\r\n        manager.run_simulation(30.0)\r\n\r\n        # Process episode results\r\n        # ... analysis and learning ...\r\n\r\n        # Reset for next episode\r\n        manager.reset_simulation()\n'})}),"\n",(0,a.jsx)(n.h2,{id:"77-integration-with-ros-2",children:"7.7 Integration with ROS 2"}),"\n",(0,a.jsx)(n.h3,{id:"771-gazebo-ros-bridge",children:"7.7.1 Gazebo-ROS Bridge"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Example: Gazebo ROS Interface"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-pythonimport",metastring:"rclpy",children:'from rclpy.node import Node\r\nfrom gazebo_msgs.msg import ModelState, ModelStates\r\nfrom gazebo_msgs.srv import SetModelState, GetModelState\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass GazeboInterface(Node):\r\n    def __init__(self):\r\n        super().__init__(\'gazebo_interface\')\r\n\r\n        # Create service clients\r\n        self.set_state_client = self.create_client(\r\n            SetModelState, \'/gazebo/set_model_state\')\r\n        self.get_state_client = self.create_client(\r\n            GetModelState, \'/gazebo/get_model_state\')\r\n\r\n        # Create publishers and subscribers\r\n        self.cmd_vel_pub = self.create_publisher(\r\n            Twist, \'/cmd_vel\', 10)\r\n\r\n        self.model_sub = self.create_subscription(\r\n            ModelStates, \'/gazebo/model_states\',\r\n            self.model_callback, 10)\r\n\r\n        # Wait for services\r\n        while not self.set_state_client.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info(\'Waiting for set_model_state service...\')\r\n\r\n        self.current_models = {}\r\n\r\n    def model_callback(self, msg):\r\n        """Track model states"""\r\n        self.current_models = dict(zip(msg.name, msg.pose))\r\n\r\n    def set_model_pose(self, model_name, x, y, z, roll=0, pitch=0, yaw=0):\r\n        """Set model pose in simulation"""\r\n        request = SetModelState.Request()\r\n\r\n        # Model state\r\n        request.model_state.model_name = model_name\r\n        request.model_state.reference_frame = "world"\r\n\r\n        # Position\r\n        request.model_state.pose.position.x = x\r\n        request.model_state.pose.position.y = y\r\n        request.model_state.pose.position.z = z\r\n\r\n        # Orientation\r\n        import tf_transformations\r\n        quat = tf_transformations.quaternion_from_euler(roll, pitch, yaw)\r\n        request.model_state.pose.orientation.x = quat[0]\r\n        request.model_state.pose.orientation.y = quat[1]\r\n        request.model_state.pose.orientation.z = quat[2]\r\n        request.model_state.pose.orientation.w = quat[3]\r\n\r\n        # Send request\r\n        future = self.set_state_client.call_async(request)\r\n        return future\r\n\r\n    def get_model_pose(self, model_name):\r\n        """Get current model pose"""\r\n        request = GetModelState.Request()\r\n        request.model_name = model_name\r\n        request.reference_frame = "world"\r\n\r\n        future = self.get_state_client.call_async(request)\r\n        return future\r\n\r\n    def publish_velocity(self, linear_x, linear_y, angular_z):\r\n        """Publish velocity command"""\r\n        msg = Twist()\r\n        msg.linear.x = linear_x\r\n        msg.linear.y = linear_y\r\n        msg.angular.z = angular_z\r\n        self.cmd_vel_pub.publish(msg)\r\n\r\n    def reset_simulation(self):\r\n        """Reset simulation to initial state"""\r\n        # Reset robot position\r\n        self.set_model_pose(\'mobile_robot\', 0, 0, 0.1)\r\n\r\n        # Reset obstacles to random positions\r\n        import random\r\n        for i in range(3):\r\n            x = random.uniform(-5, 5)\r\n            y = random.uniform(-5, 5)\r\n            self.set_model_pose(f\'obstacle_{i}\', x, y, 0.5)\r\n\r\n# Usage example\r\ndef main():\r\n    rclpy.init()\r\n\r\n    gazebo_interface = GazeboInterface()\r\n\r\n    # Reset simulation\r\n    gazebo_interface.reset_simulation()\r\n\r\n    # Simple movement test\r\n    for i in range(100):\r\n        gazebo_interface.publish_velocity(0.5, 0.0, 0.1)\r\n        rclpy.spin_once(gazebo_interface, timeout_sec=0.1)\r\n\r\n    rclpy.shutdown()\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo provides a comprehensive physics simulation environment essential for robotics development and testing. This chapter covered the fundamental concepts of physics simulation, robot modeling, sensor simulation, and advanced plugin development."}),"\n",(0,a.jsx)(n.p,{children:"Key takeaways:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Gazebo uses multiple physics engines with different characteristics"}),"\n",(0,a.jsx)(n.li,{children:"Accurate robot modeling requires proper URDF to SDF conversion"}),"\n",(0,a.jsx)(n.li,{children:"Sensor simulation enables realistic perception system testing"}),"\n",(0,a.jsx)(n.li,{children:"Custom plugins extend simulation capabilities"}),"\n",(0,a.jsx)(n.li,{children:"Performance optimization is crucial for complex simulations"}),"\n",(0,a.jsx)(n.li,{children:"ROS 2 integration enables seamless simulation-robot workflows"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,a.jsx)(n.h3,{id:"exercise-71-physics-engine-comparison",children:"Exercise 7.1: Physics Engine Comparison"}),"\n",(0,a.jsx)(n.p,{children:"Create a simple simulation and test it with different physics engines:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Implement a falling object scenario"}),"\n",(0,a.jsx)(n.li,{children:"Compare ODE, Bullet, and DART physics"}),"\n",(0,a.jsx)(n.li,{children:"Measure computational performance"}),"\n",(0,a.jsx)(n.li,{children:"Analyze accuracy of physical behavior"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"exercise-72-custom-robot-model",children:"Exercise 7.2: Custom Robot Model"}),"\n",(0,a.jsx)(n.p,{children:"Design and simulate a custom robot:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Create URDF model with multiple joints"}),"\n",(0,a.jsx)(n.li,{children:"Convert to SDF with simulation properties"}),"\n",(0,a.jsx)(n.li,{children:"Add sensors and actuators"}),"\n",(0,a.jsx)(n.li,{children:"Test in Gazebo simulation"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"exercise-73-sensor-plugin-development",children:"Exercise 7.3: Sensor Plugin Development"}),"\n",(0,a.jsx)(n.p,{children:"Develop a custom sensor plugin:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Choose a sensor type (e.g., temperature, pressure)"}),"\n",(0,a.jsx)(n.li,{children:"Implement physics-based sensing model"}),"\n",(0,a.jsx)(n.li,{children:"Add ROS 2 interface"}),"\n",(0,a.jsx)(n.li,{children:"Validate sensor behavior"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"exercise-74-performance-optimization",children:"Exercise 7.4: Performance Optimization"}),"\n",(0,a.jsx)(n.p,{children:"Optimize a complex simulation:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Identify performance bottlenecks"}),"\n",(0,a.jsx)(n.li,{children:"Adjust physics parameters"}),"\n",(0,a.jsx)(n.li,{children:"Optimize model complexity"}),"\n",(0,a.jsx)(n.li,{children:"Measure performance improvements"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"exercise-75-integration-project",children:"Exercise 7.5: Integration Project"}),"\n",(0,a.jsx)(n.p,{children:"Create a complete simulation-robot system:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Design robot and environment"}),"\n",(0,a.jsx)(n.li,{children:"Implement perception and control"}),"\n",(0,a.jsx)(n.li,{children:"Test in simulation"}),"\n",(0,a.jsx)(n.li,{children:"Deploy to real robot and compare performance"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"glossary-terms",children:"Glossary Terms"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SDF (Simulation Description Format)"}),": XML format for describing Gazebo worlds and models"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"ODE (Open Dynamics Engine)"}),": Physics engine for rigid body simulation"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"URDF (Unified Robot Description Format)"}),": XML format for robot model description"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Plugin System"}),": Gazebo architecture for extending functionality"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensor Simulation"}),": Modeling of real sensor behavior in simulation"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Contact Mechanics"}),": Physics of contact and collision between objects"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Real-time Factor"}),": Ratio of simulation time to real time"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gazebo-ROS Bridge"}),": Interface between Gazebo simulation and ROS 2"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Physics Time Step"}),": Simulation integration time step"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Broad/Narrow Phase"}),": Collision detection optimization techniques"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(6540);const a={},i=r.createContext(a);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);